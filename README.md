# testForPosgrges
## Тестовое задание в компанию Postgres Pro
Тестовое задание подразумевает под собой реализацию консольного приожения, которое следит за изменениями файлов в директориях, заданных в кофигруовочном файле.
## Примеры использования
В данном примере, в случае изменений любого файла (в том числе добавлениие нового), выполнятся описанные команды команды
```- path: /home/user/project1
  commands:
    - go build -o ./build/bin/app1 cmd/service/main.go
    - go run ./build/bin/app1
```
##
Проект так же может принимать на вход конфигурационный файл с несколькими директориями, а которой могут быть обозначены маски (include и exclude), лог файл для храние логов выполнения команд
```
- path: /home/user/project1
  commands:
    - go build -o ./build/bin/app1 cmd/service/main.go
    - go run ./build/bin/app1
    - path: /home/user/project2
  commands:
    - go test ./...
  include_regexp:
    - .*.go$
    - .*.env$
  exclude_regexp:
    - .*._test.go$
  log_file: /tmp/log2.out
```
## Примеры запуска
В файле config/config.yml необходимо ввести параметры для инициализации подключения к базе данных и параметр задержки между проверками файлов в секундах (по умолчанию установленно 3)

![Screenshot from 2023-05-15 00-03-25](https://github.com/almazius/testForPosgrges/assets/101062396/bf7ffcbe-9115-4536-9bcd-15c0e93e75ae)

В качестве аргумента при запуске программы необходимо укаазать имя конфигурационного файла с директориями и инструкциями к проекту (в качестве примера заготовлен файл test.txt)

Для создании таблицы в базе данных заготовлен sql скрипт repository/migrations.sql

P.S. Данное приложение тестировалось на компьютере с установленной ОС "Ubuntu 22.04"
